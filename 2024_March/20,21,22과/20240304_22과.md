# Today I Learned 3ì¼ì°¨(20240304) - ëª¨ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë”¥ë‹¤ì´ë¸Œ 22ì¥ this

## 22-1 this í‚¤ì›Œë“œ
- `this`ì˜ ì •ì˜: ìì‹ ì´ ì†í•œ ê°ì²´ ë˜ëŠ” ìì‹ ì´ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” ìê¸° ì°¸ì¡° ë³€ìˆ˜(self-referencing variable)
- `this`ë¥¼ í†µí•´ ìì‹ ì´ ì†í•œ ê°ì²´ ë˜ëŠ” ìì‹ ì´ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.

```javascript
// ê°ì²´ ë¦¬í„°ëŸ´
const circle = {
    radius: 5,
    getDiameter() {
        // thisëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
        return 2 * this.radius;
    }
};

console.log(circle.getDiameter()); // 10
```


```javascript
function Circle(radius) {
    // ì´ ì‹œì ì—ì„œëŠ” ìƒì„±ì í•¨ìˆ˜ ìì‹ ì´ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì‹ë³„ìë¥¼ ì•Œ ìˆ˜ ì—†ë‹¤.
    // ì—¬ê¸°ì— ë“¤ì–´ê°€ëŠ” thisëŠ” ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
    this.radius = radius;
}

Circle.prototype.getDiameter = function () {
    // ì´ ì‹œì ì—ì„œëŠ” ìƒì„±ì í•¨ìˆ˜ ìì‹ ì´ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì‹ë³„ìë¥¼ ì•Œ ìˆ˜ ì—†ë‹¤.
    // ì—¬ê¸°ì— ë“¤ì–´ê°€ëŠ” thisëŠ” ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
    return 2 * this.radius;
};

// ìƒì„±ì í•¨ìˆ˜ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ë ¤ë©´ ë¨¼ì € ìƒì„±ì í•¨ìˆ˜ë¥¼ ì •ì˜í•´ì•¼ í•œë‹¤.
// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
const circle = new Circle(5);
```
- ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì—ì„œëŠ” í”„ë¡œí¼í‹° ë˜ëŠ” ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ê¸° ìœ„í•´ ìì‹ ì´ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.
    - ê·¸ëŸ¬ë‚˜ ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ ê°ì²´ ìƒì„± ë°©ì‹ì€ ë¨¼ì € ìƒì„±ì í•¨ìˆ˜ë¥¼ ì •ì˜í•œ ì´í›„ **`new`** ì—°ì‚°ìì™€ í•¨ê»˜ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ëŠ” ë‹¨ê³„ê°€ ì¶”ê°€ë¡œ í•„ìš”í•˜ë‹¤. ì¦‰, ìƒì„±ì í•¨ìˆ˜ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ë ¤ë©´ ë¨¼ì € ìƒì„±ì í•¨ìˆ˜ê°€ ìˆì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.
    - ìƒì„±ì í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ëŠ” ì‹œì ì—ëŠ” ì•„ì§ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ì´ì „ì´ë¯€ë¡œ ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì‹ë³„ìë¥¼ ì•Œ ìˆ˜ ì—†ë‹¤.
    - ê·¸ë˜ì„œ ìì‹ ì´ ì†í•œ ê°ì²´ ë˜ëŠ” ìì‹ ì´ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” íŠ¹ìˆ˜í•œ ì‹ë³„ìê°€ í•„ìš”í•œë° ê·¸ê²ƒì´ ë°”ë¡œ `this`ë‹¤.
- `this`ëŠ” JavaScript ì—”ì§„ì— ì˜í•´ ì•”ë¬µì ìœ¼ë¡œ ìƒì„±ë˜ë©° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ **arguments** ê°ì²´ì™€ **this**ê°€ ì•”ë¬µì ìœ¼ë¡œ í•¨ìˆ˜ ë‚´ë¶€ì— ì „ë‹¬ëœë‹¤.
- `this`ê°€ ê°€ë¦¬í‚¤ëŠ” ê°’ì„ **this ë°”ì¸ë”©**ì´ë¼ ë¶€ë¥´ëŠ”ë° í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ì— ì˜í•´ ë™ì ìœ¼ë¡œ ê²°ì •ëœë‹¤.
- ë‹¤ë¥¸ ê°ì²´ì§€í–¥, í´ë˜ìŠ¤ ê¸°ë°˜ ì–¸ì–´ì¸ Javaë‚˜ C++ì—ì„œ `this`ëŠ” ì–¸ì œë‚˜ í´ë˜ìŠ¤ê°€ ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ì§€ë§Œ, JavaScriptì˜ `this`ëŠ” í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ë°©ì‹ì— ë”°ë¼ `this`ì— ë°”ì¸ë”©ë  ê°’(this ë°”ì¸ë”©)ì´ ë™ì ìœ¼ë¡œ ê²°ì •ëœë‹¤.
- `this`ëŠ” ì „ì—­ì—ì„œë„ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œë„ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” ë³€ìˆ˜ì´ë‹¤.
```javascript
console.log(this); // window

function isoTriangle(number) {
    // ì¼ë°˜ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ thisëŠ” ì „ì—­ ê°ì²´ windowë¥¼ ê°€ë¦¬í‚¨ë‹¤.
    console.log(this); // window
    return (number ** 2)/2;
}

isoTriangle(4); // 8

const person = {
    name: 'Jung',
    getName() {
        // ë©”ì„œë“œ ë‚´ë¶€ì—ì„œ thisëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
        // ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´(ë§ˆì¹¨í‘œ ì• ë˜ëŠ” ëŒ€ê´„í˜¸ ì•ì˜ ê°ì²´)
        console.log(this); // {name: 'Jung', getName: Æ’}
        return this.name;
    }
};
console.log(person.getName()); // 'Jung'

function Person(name) {
    this.name = name;
    // ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ thisëŠ” ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
    console.log(this); // PersonÂ {name: 'Jung'}
}

const me = new Person('Jung');
```

## 22-2 í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ê³¼ this ë°”ì¸ë”©
- `this` ë°”ì¸ë”©(thisì— ë°”ì¸ë”©ë  ê°’)ì€ í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹, ì¦‰ í•¨ìˆ˜ê°€ ì–´ë–»ê²Œ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ê²°ì •ëœë‹¤.

### 22-2-1 ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œ
```javascript
// ì›¹ ë¸Œë¼ìš°ì €ì˜ ì „ì—­ ê°ì²´ => window
// Node.jsì˜ ì „ì—­ ê°ì²´ => global
function foo() {
    console.log(`foo's this: ${this}`); // "foo's this: [object Window]"
    function bar() {
        console.log(`bar's this: ${this}`); // "bar's this: [object Window]"
    }
    bar();
}
foo();
```
- ì „ì—­ í•¨ìˆ˜ ë¿ë§Œ ì•„ë‹ˆë¼ ì¤‘ì²© í•¨ìˆ˜ë¥¼ ì¼ë°˜ í•¨ìˆ˜ë¡œ í˜¸ì¶œí•˜ë©´ í•¨ìˆ˜ ë‚´ë¶€ì˜ `this`ì—ëŠ” ì „ì—­ ê°ì²´ê°€ ë°”ì¸ë”©ëœë‹¤.
- `strict mode`ê°€ ì ìš©ë  ê²½ìš° ì¼ë°˜ í•¨ìˆ˜ ë‚´ë¶€ì˜ `this`ì—ëŠ” `undefined`ê°€ ë°”ì¸ë”©ëœë‹¤.
```javascript
function foo() {
    'use strict';

    console.log(`foo's this: `, this); // foo's this:  undefined
    function bar() {
        console.log(`bar's this: `, this); // bar's this:  undefined
    }
    bar();
}

foo();
```

```javascript
// var í‚¤ì›Œë“œë¡œ ì„ ì–¸í•œ ì „ì—­ ë³€ìˆ˜ numì€ ì „ì—­ ê°ì²´ì˜ í”„ë¡œí¼í‹°ì´ë‹¤.
var num = 12;
// const í‚¤ì›Œë“œë¡œ ì„ ì–¸í•œ ì „ì—­ ë³€ìˆ˜ numì€ ì „ì—­ ê°ì²´ì˜ í”„ë¡œí¼í‹°ì´ë‹¤.
// const num = 12;

const obj = {
    num: 20000,
    cal() {
        console.log("cal's this: ", this); // {num: 20000, cal: Æ’}
        console.log("cal's this.num", this.num); // 20000 => obj ê°ì²´ì— ë°”ì¸ë”©ë¨

        // ë©”ì„œë“œ ë‚´ì—ì„œ ì •ì˜í•œ ì¤‘ì²© í•¨ìˆ˜
        function com() {
            console.log("bar's this: ", this); // window
            console.log("bar's this.num", this.num); // 12 => ì „ì—­ ê°ì²´ì— ë°”ì¸ë”©ë¨(window.num)
        }
        com();
    }
};

obj.cal();

const callbackObj = {
    num: 3000,
    val() {
        console.log("val's this: ", this); // {num: 3000, val: Æ’}
        // ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì˜ thisì—ëŠ” ì „ì—­ ê°ì²´ê°€ ë°”ì¸ë”©ëœë‹¤.
        setTimeout(function () {
            console.log("callback's this: ", this); // window
            console.log("callback's this.num", this.num); // 12 => ì „ì—­ ê°ì²´ì— ë°”ì¸ë”©ë¨(window.num)
        }, 500);
    }
};

callbackObj.val();
```
- ê°ì²´ ë©”ì„œë“œì˜ `this`ì—ëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ê°€ ë°”ì¸ë”©ë˜ê³  ë‚´ë¶€ì— ìˆëŠ” ì¤‘ì²© í•¨ìˆ˜ ë˜ëŠ” ì½œë°± í•¨ìˆ˜ì˜ `this`ì— ë°”ì¸ë”©ëœ ê°’ê³¼ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ë©”ì„œë“œê°€ ì™¸ë¶€ í•¨ìˆ˜ë¡œì„œ ì‘ë™í•  ìˆ˜ ì—†ë‹¤.

- ë©”ì„œë“œì˜ `this`ì™€ ë©”ì„œë“œ ë‚´ë¶€ ì¤‘ì²© í•¨ìˆ˜ ë˜ëŠ” ì½œë°± í•¨ìˆ˜ì˜ `this`ë¥¼ ì¼ì¹˜ì‹œí‚¤ëŠ” ë°©ë²•
    - ë©”ì„œë“œì˜ `this`ë¥¼ ë‹´ì€ ë³€ìˆ˜ `that`
    ```javascript
    var num = 30;

    const callbackObj = {
        num: 3000,
        val() {
            // this ë°”ì¸ë”©(callbackObj)ì„ ë³€ìˆ˜ thatì— í• ë‹¹í•œë‹¤.
            const that = this;

            // ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ this ëŒ€ì‹  thatì„ ì°¸ì¡°í•œë‹¤.
            setTimeout(function () {
                console.log(that.num); // 3000
            }, 500);
        }
    };

    callbackObj.val();
    ```

    - `Function.prototype.apply()`, `Function.prototype.call()`,`Function.prototype.bind()` ì´ìš©
    ```javascript
    var num = 30;

    const callbackObj = {
        num: 3000,
        val() {
            // ì½œë°± í•¨ìˆ˜ì— ëª…ì‹œì ìœ¼ë¡œ thisë¥¼ ë°”ì¸ë”©í•œë‹¤.
            setTimeout(function () {
                console.log(this.num); // 3000
            }.bind(this));
        }
    };

    const callbackObj2 = {
        num: 4000,
        val() {
            setTimeout(function () {
                console.log(this.num); // 4000
            }.apply(this));
        }
    }

    const callbackObj3 = {
        num: 5000,
        val() {
            setTimeout(function () {
                console.log(this.num); // 5000
            }.call(this));
        }
    }

    callbackObj.val();
    callbackObj2.val();
    callbackObj3.val();
    ```

    - í™”ì‚´í‘œ í•¨ìˆ˜ ì´ìš©í•˜ê¸°
    ```javascript
    var num = 20;

    const arrowObj = {
        num: 100,
        foo() {
            // í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” í•­ìƒ ìƒìœ„ ìŠ¤ì½”í”„ì˜ thisë¥¼ ê°–ëŠ”ë‹¤.
            setTimeout(() => console.log(this.num), 100);
        }
    };

    arrowObj.foo(); // 100
    ```

### 22-2-2 ë©”ì„œë“œ í˜¸ì¶œ
- ê°ì²´ ë©”ì„œë“œ ë‚´ë¶€ì˜ `this`ì—ëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´(ë§ˆì¹¨í‘œ ì—°ì‚°ì ì•ì— ê¸°ìˆ í•œ ê°ì²´)ê°€ ë°”ì¸ë”©ëœë‹¤.
- **ë©”ì„œë“œ ë‚´ë¶€ì˜ `this`ëŠ” ë©”ì„œë“œë¥¼ ì†Œìœ í•œ ê°ì²´ê°€ ì•„ë‹Œ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ê°€ ë°”ì¸ë”©ëœë‹¤ëŠ” ê²ƒì— ìœ ì˜í•˜ì**.
```javascript
const person = {
    name: 'Jung',
    getName() {
        // ë©”ì„œë“œ ë‚´ë¶€ì˜ thisëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ì— ë°”ì¸ë”©ëœë‹¤.
        return this.name;
        // this['name']; ìœ¼ë¡œ í•´ë„ ê°’ì´ ë°˜í™˜ëœë‹¤.
    }
};

// ë©”ì„œë“œ getNameì„ í˜¸ì¶œí•œ ê°ì²´ëŠ” personì´ë‹¤.
person.getName(); //
```
- ì˜ˆì œì—ì„œ `person` ê°ì²´ì˜ `getName` í”„ë¡œí¼í‹°ëŠ” `person` ê°ì²´ ë‚´ë¶€ì— **ë…ë¦½ì ìœ¼ë¡œ ì¡´ì¬í•˜ëŠ” ë³„ë„ì˜ í•¨ìˆ˜ ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤. ì´ê²ƒì´ ë°”ë¡œ `getName` ë©”ì„œë“œì´ë‹¤.**
- ê·¸ë˜ì„œ `getName` ë©”ì„œë“œëŠ” ë‹¤ë¥¸ ê°ì²´ì˜ í”„ë¡œí¼í‹°ì— í• ë‹¹ë˜ê±°ë‚˜ ì¼ë°˜ ë³€ìˆ˜ì— í• ë‹¹í•˜ì—¬ ì¼ë°˜ í•¨ìˆ˜ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.
```javascript
const person = {
    name: 'Jung',
    getName() {
        // ë©”ì„œë“œ ë‚´ë¶€ì˜ thisëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ì— ë°”ì¸ë”©ëœë‹¤.
        return this.name;
        // this['name']; ìœ¼ë¡œ í•´ë„ ê°’ì´ ë°˜í™˜ëœë‹¤.
    }
};

const anotherUser = {
    name: 'Lee',
};

// getName ë©”ì„œë“œë¥¼ anotherUser ê°ì²´ì˜ ë©”ì„œë“œë¡œ í• ë‹¹
anotherUser.getName = person.getName;

// getName ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ëŠ” anotherUserì´ë‹¤.
console.log(anotherUser.getName()); // Lee

// getName ë©”ì„œë“œë¥¼ ë³€ìˆ˜ì— í• ë‹¹
const getName = person.getName;

// getName ë©”ì„œë“œë¥¼ ì¼ë°˜ í•¨ìˆ˜ë¡œ í˜¸ì¶œ
console.log(getName()); // ''
// ì¼ë°˜ í•¨ìˆ˜ë¡œ í˜¸ì¶œëœ getName í•¨ìˆ˜ ë‚´ë¶€ì˜ this.nameì€ ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ window.nameê³¼ ê°™ë‹¤.
// ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ window.nameì€ ë¸Œë¼ìš°ì € ì°½ì˜ ì´ë¦„ì„ ë‚˜íƒ€ë‚´ëŠ” ë¹ŒíŠ¸ì¸ í”„ë¡œí¼í‹°ì´ë©° ê¸°ë³¸ê°’ì€
// ''ì´ë‹¤. Node.js í™˜ê²½ì—ì„œ this.nameì€ undefinedì´ë‹¤.
```

- prototype ë©”ì„œë“œ ë‚´ë¶€ì—ì„œ ì‚¬ìš©ëœ `this`ë„ ì¼ë°˜ ë©”ì„œë“œì™€ ë§ˆì°¬ê°€ì§€ë¡œ í•´ë‹¹ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ì— ë°”ì¸ë”©ëœë‹¤.
- prototypeë„ ê°ì²´ì´ê¸° ë•Œë¬¸ì— ì§ì ‘ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.
```javascript
function User(name) {
    this.name = name;
}

// ìƒì„±ì í•¨ìˆ˜ Userì˜ í”„ë¡œí† íƒ€ì…ì— getName ë©”ì„œë“œ ì¶”ê°€
User.prototype.getName = function () {
    return this.name;
};

const me = new User('Jung');

// getName ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ëŠ” meë‹¤.
console.log(me.getName()); // 'Jung'

// ìƒì„±ì í•¨ìˆ˜ Userì˜ í”„ë¡œí† íƒ€ì…ì— name í”„ë¡œí¼í‹° ì¶”ê°€
// ë³€ìˆ˜ ì„€ë„ì‰ë•Œë¬¸ì— User í”„ë¡œí† íƒ€ì…ì— ì¶”ê°€ëœ name í”„ë¡œí¼í‹°ê°€
// ìƒì„±ì í•¨ìˆ˜ì˜ this.name ë³€ìˆ˜ë¥¼ ê°€ë¦¼
User.prototype.name = 'Lee';

// getName ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ëŠ” User.prototypeì´ë‹¤.
console.log(User.prototype.getName()); // 'Lee'
```

### 22-2-3 ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œ
- ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì˜ `this`ì—ëŠ” ìƒì„±ì í•¨ìˆ˜ê°€ ë‚˜ì¤‘ì— ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ê°€ ë°”ì¸ë”©ëœë‹¤.
- `new` ì—°ì‚°ìì™€ í•¨ê»˜ ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šìœ¼ë©´ ìƒì„±ì í•¨ìˆ˜ê°€ ì•„ë‹ˆë¼ ì¼ë°˜ í•¨ìˆ˜ë¡œ ë™ì‘í•œë‹¤.
```javascript
// ìƒì„±ì í•¨ìˆ˜
function CircleArea(radius) {
    // ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ê°€ ë°”ì¸ë”©ëœë‹¤.
    this.radius = radius;
    this.getArea = function () {
        return (radius ** 2) * Math.PI;
    };
}

// ë°˜ì§€ë¦„ì´ 4ì¸ CircleArea ê°ì²´ë¥¼ ìƒì„±
const circle1 = new CircleArea(4);

// ë°˜ì§€ë¦„ì´ 8ì¸ CircleArea ê°ì²´ë¥¼ ìƒì„±
const circle2 = new CircleArea(8);

console.log(circle1.getArea()); // 50.26548245743669
console.log(circle2.getArea()); // 201.06192982974676

// new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œí•˜ì§€ ì•Šìœ¼ë©´ ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œë¡œ ë™ì‘í•œë‹¤.
const circle3 = CircleArea(10);

// ì¼ë°˜ í•¨ìˆ˜ë¡œ í˜¸ì¶œëœ CircleAreaì—ëŠ” ë°˜í™˜ë¬¸ì´ ì—†ìœ¼ë¯€ë¡œ ì•”ë¬µì ìœ¼ë¡œ undefinedë¥¼ ë°˜í™˜í•œë‹¤.
console.log(circle3); //

// ì¼ë°˜ í•¨ìˆ˜ë¡œ í˜¸ì¶œëœ CircleArea ë‚´ë¶€ì˜ thisëŠ” ì „ì—­ ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
console.log(radius); // 10
```

### 22-2-4 Function.prototype.apply/call/bind ë©”ì„œë“œì— ì˜í•œ ê°„ì ‘ í˜¸ì¶œ
- `Function.prototype.apply/call/bind` ë©”ì„œë“œëŠ” í•´ë‹¹ ë©”ì„œë“œì˜ ì²« ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì „ë‹¬ëœ ê°ì²´ê°€ `this`ì— ë°”ì¸ë”©ëœë‹¤.
- `Function.prototype.apply/call/bind` ë©”ì„œë“œëŠ” ëª¨ë“  í•¨ìˆ˜ê°€ ìƒì†ë°›ì•„ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- `Function.prototype.apply/call` ë©”ì„œë“œëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ì„œ ì²« ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ íŠ¹ì • ê°ì²´ë¥¼ í˜¸ì¶œí•œ í•¨ìˆ˜ì˜ `this`ì— ë°”ì¸ë”©í•˜ì§€ë§Œ, `Function.prototype.bind` ë©”ì„œë“œëŠ” ì²« ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ ê°ì²´ë¡œ `this` ë°”ì¸ë”©ì´ êµì²´ëœ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šê³  ìƒˆë¡­ê²Œ ë°˜í™˜í•œë‹¤.
    - `Function.prototype.bind` ë©”ì„œë“œë¥¼ í†µí•´ ìƒˆë¡­ê²Œ ë§Œë“  í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë ¤ë©´ ë©”ì„œë“œ ë’¤ì— `()` ê¸°í˜¸ë¥¼ ë¶™ì´ê±°ë‚˜ í•´ë‹¹ ë©”ì„œë“œë¥¼ í• ë‹¹í•œ ë³€ìˆ˜ ë’¤ì— í•´ë‹¹ ê¸°í˜¸ë¥¼ ë¶™ì¸ë‹¤.

- `Function.prototype.apply` ë©”ì„œë“œì— ì˜í•œ ê°„ì ‘ í˜¸ì¶œ ì˜ˆì‹œ
    - `Function.prototype.apply` ë©”ì„œë“œëŠ” í˜¸ì¶œí•  í•¨ìˆ˜ì˜ ì¸ìˆ˜ë¥¼ ë°°ì—´ë¡œ ë¬¶ì–´ ì „ë‹¬í•œë‹¤.
```javascript
function getThisBinding() {
    console.log(arguments); // ArgumentsÂ [callee: Æ’, Symbol(Symbol.iterator): Æ’]
    return this;
}

// thisë¡œ ì‚¬ìš©í•  ê°ì²´
const thisArg = { a: 1 };

console.log(getThisBinding()); // window => ì¼ë°˜ í•¨ìˆ˜ì˜ thisëŠ” ì „ì—­ ê°ì²´ì´ë‹¤.
// ArgumentsÂ [callee: Æ’, Symbol(Symbol.iterator): Æ’]

// getThisBinding í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ì„œ ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ ê°ì²´ë¥¼ getThisBinding í•¨ìˆ˜ì˜ thisì— ë°”ì¸ë”©í•œë‹¤.
console.log(getThisBinding.apply(thisArg)); // {a: 1}
// ArgumentsÂ [callee: Æ’, Symbol(Symbol.iterator): Æ’]

// getThisBinding í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ì„œ ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ ê°ì²´ë¥¼ getThisBinding í•¨ìˆ˜ì˜ thisì— ë°”ì¸ë”©í•œë‹¤.
// apply ë©”ì„œë“œëŠ” í˜¸ì¶œí•  í•¨ìˆ˜ì˜ ì¸ìˆ˜ë¥¼ ë°°ì—´ë¡œ ë¬¶ì–´ ì „ë‹¬í•œë‹¤.
console.log(getThisBinding.apply(thisArg, [1, 2, 3]));
// Arguments(3)Â [1, 2, 3, callee: Æ’, Symbol(Symbol.iterator): Æ’]
// {a: 1}

```

- `Function.prototype.call` ë©”ì„œë“œì— ì˜í•œ ê°„ì ‘ í˜¸ì¶œ ì˜ˆì‹œ
    - `Function.prototype.call` ë©”ì„œë“œëŠ” í˜¸ì¶œí•  í•¨ìˆ˜ì˜ ì¸ìˆ˜ë¥¼ ì‰¼í‘œë¡œ êµ¬ë¶„í•œ ë¦¬ìŠ¤íŠ¸ í˜•ì‹ìœ¼ë¡œ ì „ë‹¬í•œë‹¤.
```javascript

function getThisBinding() {
    console.log(arguments); // ArgumentsÂ [callee: Æ’, Symbol(Symbol.iterator): Æ’]
    return this;
}

// thisë¡œ ì‚¬ìš©í•  ê°ì²´
const thisArg = { a: 1 };

// call ë©”ì„œë“œëŠ” í˜¸ì¶œí•  í•¨ìˆ˜ì˜ ì¸ìˆ˜ë¥¼ ì‰¼í‘œë¡œ êµ¬ë¶„í•œ ë¦¬ìŠ¤íŠ¸ í˜•ì‹ìœ¼ë¡œ ì „ë‹¬í•œë‹¤.
console.log()

function convertArgsToArray(){
    console.log(arguments); // Arguments(3)Â [1, 2, 3, callee: Æ’, Symbol(Symbol.iterator): Æ’]

    // arguments ê°ì²´ë¥¼ ë°°ì—´ë¡œ ë³€í™˜
    // Array.prototype.sliceë¥¼ ì¸ìˆ˜ ì—†ì´ í˜¸ì¶œí•˜ë©´ ë°°ì—´ì˜ ë³µì‚¬ë³¸ì„ ìƒì„±í•œë‹¤.
    const arr = Array.prototype.slice.call(arguments);
    // Function.prototype.apply ë©”ì„œë“œì—ë„ ë˜‘ê°™ì´ ì ìš©í•  ìˆ˜ ìˆë‹¤.
    // const arr = Array.prototype.slice.apply(arguments);
    // const arr = [].slice.call(arguments);
    // const arr = [].slice.apply(arguments);

    console.log(arr); // (3) [1, 2, 3]

    return arr;
}

convertArgsToArray(1, 2, 3);

```

- `Function.prototype.bind` ë©”ì„œë“œì— ì˜í•œ ê°„ì ‘ í˜¸ì¶œ ì˜ˆì‹œ
    - `Function.prototype.bind` ë©”ì„œë“œëŠ” ì²« ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ ê°ì²´ë¡œ `this` ë°”ì¸ë”©ì´ êµì²´ëœ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šê³  ìƒˆë¡­ê²Œ ë°˜í™˜í•œë‹¤.
    - ê·¸ë˜ì„œ `Function.prototype.bind` ë©”ì„œë“œë¥¼ í†µí•´ ìƒˆë¡­ê²Œ ë§Œë“  í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë ¤ë©´ ë©”ì„œë“œ ë’¤ì— `()` ê¸°í˜¸ë¥¼ ë¶™ì´ê±°ë‚˜ í•´ë‹¹ ë©”ì„œë“œë¥¼ í• ë‹¹í•œ ë³€ìˆ˜ ë’¤ì— í•´ë‹¹ ê¸°í˜¸ë¥¼ ë¶™ì¸ë‹¤.
    - ê°ì²´ ë©”ì„œë“œì˜ `this`ì™€, ê°ì²´ ë©”ì„œë“œ ë‚´ë¶€ì˜ ì¤‘ì²© í•¨ìˆ˜ ë˜ëŠ” ì½œë°± í•¨ìˆ˜ì˜ `this`ê°€ ë¶ˆì¼ì¹˜í•˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ìœ ìš©í•˜ê²Œ ì‚¬ìš©ëœë‹¤.
```javascript
function getThisBinding() {
    return this;
}

// thisë¡œ ì‚¬ìš©í•  ê°ì²´
const thisArg = { a: 30 };

// bind ë©”ì„œë“œëŠ” ì²« ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ thisArgë¡œ this ë°”ì¸ë”©ì´ êµì²´ëœ
// getThisBinding í•¨ìˆ˜ë¥¼ ìƒˆë¡­ê²Œ ìƒì„±í•´ ë°˜í™˜í•œë‹¤.
console.log(getThisBinding.bind(thisArg)); 
/**
 Æ’ getThisBinding() {
    return this;
}
 * 
*/
console.log(getThisBinding.bind(thisArg)()); // {a: 30}

const person = {
    name: 'Lee',
    gender: 'male',
    sayHi(callback){
        // bind ë©”ì„œë“œë¡œ callback í•¨ìˆ˜ ë‚´ë¶€ì˜ this ë°”ì¸ë”©ì„ ì „ë‹¬
        setTimeout(callback.bind(this), 100);
    }
};

person.sayHi(function () {
    console.log(`Hi! My name is ${this.name}. My gender is ${this.gender}.`);
});
// Hi! My name is Lee. My gender is male.
```

## ğŸ“‘í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ì— ë”°ë¥¸ this ë°”ì¸ë”© 

| í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ | this ë°”ì¸ë”© |
|:--|:--|
|ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œ|ì „ì—­ ê°ì²´|
|ë©”ì„œë“œ í˜¸ì¶œ|ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´|
|ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œ|ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤|
|Function.prototype.apply/call/bind ë©”ì„œë“œì— ì˜í•œ ê°„ì ‘ í˜¸ì¶œ| Function.prototype.apply/call/bind ë©”ì„œë“œì— ì²« ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ ê°ì²´|
