# Today I Learned 20240326 - 모던 자바스크립트 딥다이브 26과 ES6 함수의 추가 기능

## 26-1 함수의 구분
```javascript
var foo = function() {
    return 1;
};

// 일반적인 함수로서 호출
foo(); // 1

// 생성자 함수로서 호출
new foo(); // => foo {}

// 메서드로서 호출
var obj = { 
    foo: foo
};
obj.foo(); // 1
```
- ES6 이전 버전까지 함수는 일반 함수로서 호출할 수 있는 것은 물론 생성자 함수로서 호출할 수 있다.
- 별다른 구분 없이 사용할 수 있는 ES6 이전의 함수 특징 덕분에 다양한 목적으로 사용할 수 있지만, 실수를 유발시킬 수 있고 성능 면에서 손해를 볼 수 있다.
- ES6 이전의 모든 함수는 **`callable(호출할 수 있는 함수 객체)`** 이면서 **`constructor(인스턴스를 생성할 수 있는 함수 객체)`** 이다.
> ES6 함수의 구분

| ES6 함수의 구분/ES6 함수의 특징 | constructor | prototype | super | arguments |
| :-: | :-: | :-: | :-: | :-: |
| 일반 함수(Normal) | ⭕ | ⭕ | ❌ | ⭕ |
| 메서드(Method) | ❌ | ❌ | ⭕ | ⭕ |
| 화살표 함수(Arrow) | ❌ | ❌ | ❌ | ❌ |

## 26-2 메서드
```javascript
const obj = {
    x: 1,

    // foo 프로퍼티는 메서드.
    foo() { return this.x; }

    // bar 프로퍼티에 연결된 함수는 메서드가 아닌 일반 함수.
    bar: function() { return this.x; }
};

console.log(obj.foo()); // 1
console.log(obj.bar()); // 1

new obj.foo(); // Uncaught TypeError: obj.foo is not a constructor
new obj.bar(); // bar {}

// obj.foo는 constructor가 아닌 ES6 메서드이므로 prototype 프로퍼티가 없다.
obj.foo.hasOwnProperty('prototype'); // false

// obj.bar는 constructor인 일반 함수이므로 prototype 프로퍼티가 있다.
obj.bar.hasOwnProperty('prototype'); // true
```
- ES6 버전부터 메서드는 **<ins>메서드 축약 표현(method shorthand)으로 정의된 함수</ins>** 만을 의미하게 됐다.
- ES6 버전에서 정의한 메서드(이하 **ES6 메서드** )는 인스턴스를 생성할 수 없는 **non-constructor** 다. 그래서 ES6 메서드는 생성자 함수로서 호출할 수 없다.
- ES6 메서드는 인스턴스를 생성할 수 없으므로 prototype 프로퍼티가 없고 프로토타입도 생성하지 않는다.

```javascript
const base = {
    name: 'Jung',
    sayHi() {
        return `Hi, ${this.name}`;
    }
};

const derived = {
    __proto__: base,
    /*
    sayHi는 ES6 메서드다. ES6 메서드는 [[HomeObject]]를 갖는다.
    sayHi의 [[HomeObject]]는 sayHi가 바인딩된 객체인 derived를 가리키고,
    super는 sayHi의 [[HomeObject]]의 프로토타입인 base를 가리킨다.
    */
   sayHi() {
        return `${super.sayHi()}. how are you doing?`;
   }
};

console.log(derived.sayHi());
```

- ES6 메서드는 자신을 바인딩한 객체를 가리키는 내부 슬롯 **`[[HomeObject]]`** 를 갖는다.
    - ES6 메서드의 내부 슬롯인 **`[[HomeObject]]`** 는 상위 클래스의 메서드를 참조한다.
    - 그래서 ES6 메서드는 super 키워드를 사용하여 상위 클래스의 메서드를 불러올 수 있다. 

## 26-3 화살표 함수

## 26-4 Rest 파라미터

## 26-5 매개변수 기본값